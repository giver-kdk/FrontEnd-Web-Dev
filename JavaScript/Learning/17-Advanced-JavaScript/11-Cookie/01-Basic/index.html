<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working with Cookies In JS</title>
</head>
<body>
    <p>Why use cookies instead of local storage? <br> Because server can access cookies value but can't access the localstorage value.</p>
    <button onclick="createCookies()">Create Cookie</button>
    <button onclick="readCookies()">Read Cookie</button>
    <button onclick="deleteCookies()">Delete Cookie</button>
    <script>
        function createCookies()
        {
			// Only, one cookie can be created at a time(i.e; "name = Ram; age = 19" is not allowed)
			document.cookie = "username = Giver";
			// Setting different key:value pair will append the data instead of overwriting
            document.cookie = "password = abc";
			// Setting same key again will change(update) it's value 
            document.cookie = "password = 123";
			// Notice that, space between 'key' and 'value' is filtered automatically
			// But, space after semi-colon("; ") is not filtered
			console.log(document.cookie); 			// Output: username=Giver; password=123; 
            alert("Cookies has been created");
        }
        function readCookies()
        {
            let allCookies = document.cookie;
            console.log(allCookies);
			// Since, space after semicolon is not removed. So, split with ';' + ' '
            let cookieArray = allCookies.split("; ");
            console.log(cookieArray);
            for(let i = 0; i < cookieArray.length; i++)
            {
				// Split "username = Giver Khadka" into ["username", "Giver Khadka"] and so on
                let key = cookieArray[i].split("=")[0]; 			
                let value = cookieArray[i].split("=")[1]; 
                console.log(`Key is ${key} and value is ${value}`);
            }
        }
        function deleteCookies()
        {
            // Overwrite previous key's value with emptyness & specify expiry date to past date
			// Use ';' + ' ' = '; ' to separate the cookie and its options. Space after ';' is needed
			// If expiry date is not set, then the cookie is deleted when browser is closed
            document.cookie = "username =; expires = Sun, 01 Jan 2000 01:00:00 GMT";
            document.cookie = "password =; expires = Sun, 01 Jan 2000 01:00:00 GMT";
            console.log(`Cookie after deletion:`);
            readCookies();
            alert("Cookies has been deleted");
        }
    </script>
</body>
</html>
